<h1>Описание</h1>
<p>Git - распределенная система контроля версий. Отличие от централизованных систем контроля версий в том, что наличие выделенного под репозиторий сервера не обязательно. Хотя в большинстве случаев он все-таки присутствует, чтобы упростить взаимодействие между отдельными разработчиками.</p>
<h2>Плюсы использования</h2>
<p>Основные плюсы использования Git перед Svn:</p>
<p>- Весь репозиторий хранится локально, не нужно ждать данных от сервера при поиске нужного коммита.<br />- В отличии от svn-а работа с ветками проходит просто и быстро, по этому все делается в ветках - от релиза, до маленьких задач.<br />- Не замусоривает подкаталоги своими папками (хотя говорят svn вылечился от этой болезни).<br />- Плагинабельный, а потому умеет общаться со всеми другими системами контроля версий.<br />- Ну низнаю я про плюсы :) он просто божественен :)</p>
<h1>Установка и настройка</h1>
<h2>Первоначальная установка</h2>
<p>Так как сам по себе git - это набор небольших утилит, работающих из консоли, то для такого виндузятника как я ставить его в одиночку не самая лучшая идея. К счастью для него существует несколько вариантов гуевого интерфейса:</p>
<p>- Git extensions<br />- TortoiseGit</p>
<p>Для себя я выбрал Git Extensions, потому что первым его попробовал. Вариант TortoiseHg для другой распределенной системы контроля версий mercurial меня слегка огорчил, потому для гита я его даже не пробовал.</p>
<p>Сам консольный гит можно скачать с <a href="http://code.google.com/p/msysgit/">гуглькода</a>, и на этом успокоиться. В обещем случае, если вы дружите с консолью и понимаете формат диффов - его полностью достаточно. Описание работы с гитом в этом топике проводится на уровне консольных команд.</p>
<p>В поставку с Git Extensions входит консольный гит (msysgit) и средство сравнения файлов kdiff. Скачать msi установщик или посмотреть исходный код можно на sourceforge:</p>
<p><a href="http://sourceforge.net/projects/gitextensions/">http://sourceforge.net/projects/gitextensions/</a></p>
<p>В процессе установки рекомендуется:</p>
<ul>
<li>Вопрос putty vs openssh - выбрать openssh (на <a href="http://help.github.com/win-set-up-git/">гитхабе </a>написано, что putty не всегда дает ожидаемый результат)</li>
<li>Вопрос откуда запускать гит – выбрать «Run Git form the Windows Command Prompt» это позволит пользоваться командами git\'а из командной строки например far\'а, без использования git bash.</li>
<li>Вопросе в каком виде коммитить переводы строк - выбрать оба As Is. Иначе гит будет менять переводы строк, о чем студия тут же радостно сообщит (что доставляет).</li>
</ul>
<p>После установки необходимо указать имя пользователя (т.к. без него никакие действия сделать не получится), однако это не обязательно, так как в большинстве случаев клонируются уже существующие репозитории с выданными логином и паролем.</p>
<h2>Настройка для логина по сертификату</h2>
<p>В некоторых случаях логин происходит по сертификату, и необходимо сделать так, чтобы для каждого конкретного хоста можно было использовать свой приватный/публичный ключ.</p>
<p>Вариант простого создания ключей описан на <a href="http://help.github.com/win-set-up-git/">гитхабе</a>, однако там не описано создание второй и последующей пары ключей. На самом деле я бы не рекоммендовал называть любые ключи именем по-умолчанию (id_rsa), так как в этом случае можно его случайно потереть, забыв ввести имя для нового ключа.</p>
<p><strong>ВНИМАНИЕ</strong>: Если вы все же уверены, что вторая пара ключей вам не понадобится,<br />или не хотите лишних телодвижений, или не поняли о чем предыдущий <br />абзац - выбирайте имя по умолчанию.</p>
<p>Таким образом рекомендуемая мной последовательность действий в git bash выглядит так:</p>
<pre>ApmeM@APMEM-PC ~<br />$ cd ~/.ssh<br /><br />ApmeM@APMEM-PC ~/.ssh<br />$ ssh-keygen -t rsa -C "YOUR.EMAIL @ YOUR.DOMAIN.COM"<br />Generating public/private rsa key pair.<br />Enter file in which to save the key (/c/Users/ApmeM/.ssh/id_rsa): github_rsa<br />Enter passphrase (empty for no passphrase):<br />Enter same passphrase again:<br />Your identification has been saved in github_rsa.<br />Your public key has been saved in github_rsa.pub.<br />The key fingerprint is:<br />01:b5:a3:f1:d6:7e:7e:16:d8:f9:f4:01:d3:9b:43:fb ApmeM@APMEM-PC<br /><br />ApmeM@APMEM-PC ~/.ssh<br />$<br /></pre>
<p>В результате этих действия в папке .ssh появятся 2 файла с ключами - публичным и приватным), публичный уходит на сервер, и является ключем проверки, приватный записывается в конфиге для указанного доменного имени. Для этого в файл "~/.ssh/config" необходимо записать:</p>
<pre>Host github.com<br />    User ApmeM<br />    Hostname github.com<br />    IdentityFile ~/.ssh/github_rsa<br /></pre>
<h1>Использование</h1>
<p>Использование git extensions, как и описание для чего вообще нужно переходить на гит, описано в статье на <a href="http://www.rsdn.ru/article/tools/Git.xml">rsdn</a>. Однако не все возможности Git доступны в GUI приложении. Так как на данный момент svn так же широко распространен (а кое-где и даже шире), то возникает необходимость работать с ним напрямую, что доступно в гит искаропки, но при этом не поддерживается гуем.</p>
<h2>Основные операции</h2>
<p>Основные процессы при работе с Git не сильно отличаются от работы с svn, за исключением работ с удаленным репозиторием и ветвями (по ссылке на рсдн сказано, что при работе над очередной задачей рекомендуется создавать новую ветку, хотя это и не обязаьтельно). Вкратце и по-русски мой вариант процесса работы с git репозиторием выглядит так:</p>
<ol>
<li>Создать репозиторий / стянуть репозиторий с удаленного сервера</li>
<li>РАБОТАТЬ!!!</li>
<li>Сделать коммит в локальный репозиторий</li>
<li>Повторить с п.2 до окончания работы над фичей или появления желания все залить на сервер.</li>
<li>Стянуть изменения, сделанные другими в удаленном репозитории</li>
<li>Объединить изменения, решить конфликты</li>
<li>Отправить коммит в удаленный репозиторий</li>
<li>Повторить с п.2 пока не наступит просветление.</li>
</ol>
<h2>GUI</h2>
<p>Краткое описание работы с гуем можно опять таки найти на сайте <a href="http://www.rsdn.ru/article/tools/Git.xml">rsdn</a>.</p>
<h2>Console</h2>
<p>В консольной версии для работы с git репозиториями в основном используются следующие команды:</p>
<table width="510" height="264">
<tbody>
<tr>
<td>Команда</td>
<td>Описание</td>
</tr>
<tr>
<td>init</td>
<td>создать новый репозиторий</td>
</tr>
<tr>
<td>clone</td>
<td>получение удаленного репозитория со всей историей</td>
</tr>
<tr>
<td>status</td>
<td>посмотреть изменения в репозитории (иногда показывает цветными буквами)</td>
</tr>
<tr>
<td>fetch</td>
<td>получить изменения из удаленного репозитория в локальный<br /></td>
</tr>
<tr>
<td>rebase</td>
<td>переместить изменения в продолжение другой ветки<br /></td>
</tr>
<tr>
<td>merge</td>
<td>объединить изменения в ветках<br /></td>
</tr>
<tr>
<td>add</td>
<td>выбрать элементы для коммита</td>
</tr>
<tr>
<td>reset</td>
<td>убрать элементы из коммита</td>
</tr>
<tr>
<td>log</td>
<td>показать список коммитов текущей ветки<br /></td>
</tr>
<tr>
<td>commit</td>
<td>залить выбранные изменения в локальный репозиторий</td>
</tr>
</tbody>
<tbody>
<tr>
<td>push</td>
<td>протолкнуть залитые изменения в удаленный репозиторий</td>
</tr>
</tbody>
<tbody>
<tr>
<td>stash</td>
<td>место, куда можно временно припрятать текущие изменения</td>
</tr>
</tbody>
</table>
<p>Git не даст вам переключиться на другую ветку, если вы не сохранили  текущие изменения. Если же вы не хотите по какой-либо причине делать  коммит, то можете отложить их в stash, а потом забрать. Работает как  стек. Полезно, если вы ошиблись текущей веткой и начали делать в ней  изменения. Эти изменения можно переложить в другую ветку через stash.</p>
<p>Большой плюс в консоли состоит в том, что на каждое действие он предлагает подсказки что делать дальше с разными вариантами. Например использовать reset на уже выбранные элементы, или checkout на элементы, которые были изменены (при желании отменить эти изменения).</p>
<h2>Игнор</h2>
<p>Если какие-то папки требуется игнорировать при коммитах всегда, их можно исключить 2мя способами:</p>
<ol>
<li>По проектовый способ – создать файл .gitignore в корне и залить его в общий репозиторий. В этом случае все, кто его получат – будут игнорировать выбранные файлы.</li>
<li>Локальный способ – добавить строки в файл repoRoot\\.git\\info\\exclude. В этом случае игнорироваться файлы будут только локально. Годится для случая с svn, т.к. .gitignore на него не действует</li>
</ol>
<p>Пример файла .gitignore может создать git extensions самостоятельно, но его не сложно редактировать и руками, так как в отличие от cvn это просто текстовый файл с масками игнорируемых элементов:</p>
<pre># git ls-files --others --exclude-from=.git/info/exclude<br /># Lines that start with \'#\' are comments.<br /># For a project mostly in C, the following would be a good set of<br /># exclude patterns (uncomment them if you want to use them):<br /># *.[oa]<br /># *~<br /><br />bin/<br />obj/<br />_Resharper*/<br />*.suo<br />*.user<br />StyleCop.Cache<br />TestResults/<br /><br /></pre>
<p>Если файл уже добавлен на коммит командой add, он из нее никуда не денется, если же это необходимо - команда reset вам в помощь.</p>
<h2>Взаимодействие с другими системами контроля версий</h2>
<p>В связи с тем, что не всегда выбор удаленного репозитория зависит от разработчика, иногда возникает необходимость обеспечить работу git\'а с другими типами систем контроля версий.</p>
<p>Благодаря системе плагинов гит может синхронизировать локальный репозиторий с такими системами как</p>
<p>- SVN (из коробки)<br />- HG (git-hg)<br />- TFS (git-tfs)</p>
<h3>SVN</h3>
<p>Процесс работы с гита с свн-ом почти не отличается от обычной работы в гите. За исключением команды получения данных из удаленного репозитория и заливки их обратно:</p>
<table>
<tbody>
<tr>
<td>Команда</td>
<td>Описание</td>
</tr>
<tr>
<td>git svn clone<br /></td>
<td>
<p>работает так же как и Git clone для svn репозитория.<br />для того, чтобы git начал искать предполагаемые ветки и тэги необходимо проставить ключи<br />-T trunk -b branches -t tags</p>
</td>
</tr>
<tr>
<td>git svn fetch<br /></td>
<td>получить последние изменения с сервера</td>
</tr>
<tr>
<td>git svn dcommit<br /></td>
<td>залить локальные коммиты на сервер svn в соответствующую ветку</td>
</tr>
</tbody>
</table>
<p>Так как в svn представление tag и branch отличаются от таких же  понятий в git, при первом импорте необходимо указать где они хранятся,  чтобы в дальнейшем git мог попытаться перевести их в свой формат. При  обнаружении ветки git выдает сообщение типа "possible branch/tag" и  создает соответствующую ветку. Этот процесс займет достаточно много  времени, так как свн очень неохотно расстается с не последними  изменениями.</p>
<p><strong>ВНИМАНИЕ</strong>: иногда возникают сложности при работе с новыми ветками. Для того, чтобы гит связал ветку svn\'а со своей необходимо чтобы ветка уже существовала на svn сервере. После этого командой checkout связать с новой веткой в локальном репозитории:</p>
<p>git svn branch new_branch<br />git branch -a<br />git checkout local_branch remotes/new_branch</p>
<h3>TFS</h3>
<p>В отличие от SVN, TFS в коробке с гитом не поставляется, а потому его необходимо <a href="https://github.com/git-tfs/git-tfs">сливать отдельно</a> и устанавливать в качестве гит плагина.</p>
<p>Устаноква</p>
<p>Как и в случае с SVN отличие от основной работы с git`ом в появлении новых команд для работы с удаленным репозиторием:</p>
<table>
<tbody>
<tr>
<td>Команда</td>
<td>Описание</td>
</tr>
<tr>
<td>git tfs clone<br /></td>
<td>
<p>работает так же как и Git clone для tfs репозитория.<br />требует гораздо больше параметро в связи с особенностями работы самого tfs:<br />git tfs clone https://testserver.tfspreview.com/DefaultCollection/ $/testProject</p>
</td>
</tr>
<tr>
<td>git tfs fetch<br /></td>
<td>получить изменения с сервера</td>
</tr>
<tr>
<td>git tfs rcheckin<br /></td>
<td>рекурсивно (надеюсь все же циклически, а то стекоферфлоу и все такое) по коммитово залоивать все коммиты на сервер</td>
</tr>
</tbody>
</table>
<p>Для того, чтобы tfs плагин научился корректно работать с tfspreview.com (типа новая фича от M$) надо установить дополнительный <a href="http://go.microsoft.com/fwlink/?LinkID=212065&amp;clcid=0x409">плагин</a> для студии.</p>
<h1>Полезные ссылки</h1>
<p><a href="http://code.google.com/p/msysgit/">http://code.google.com/p/msysgit/</a> - msys git console</p>
<p><a href="http://sourceforge.net/projects/gitextensions/">http://sourceforge.net/projects/gitextensions/</a> - git extensions downoad</p>
<p><a href="http://help.github.com/win-set-up-git/">http://help.github.com/win-set-up-git/</a> - статья на гитхабе о первоначальной настройке<a href="http://habrahabr.ru/blogs/Git/104198/"></a></p>
<p><a href="http://habrahabr.ru/blogs/Git/104198/">http://habrahabr.ru/blogs/Git/104198/</a> - статья на хабре на тему использования гита</p>
<p><a href="http://habrahabr.ru/blogs/Git/106912/">http://habrahabr.ru/blogs/Git/106912/</a> - бранчи в гите</p>
<p><a href="http://www.rsdn.ru/article/tools/Git.xml">http://www.rsdn.ru/article/tools/Git.xml</a> - статья на rsdn об использовании гуя гита</p>
<p><a href="https://github.com/git-tfs/git-tfs">https://github.com/git-tfs/git-tfs</a> - tfs плагин с описанием процесса установки</p>
<p><a href="http://go.microsoft.com/fwlink/?LinkID=212065&amp;clcid=0x409">http://go.microsoft.com/fwlink/?LinkID=212065&amp;clcid=0x409</a> - плагин для связи tfs и tfspreview.com</p>
